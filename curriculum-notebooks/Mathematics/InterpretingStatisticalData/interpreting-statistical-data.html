

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Interpreting Statistical Data &#8212; Callysto Curriculum Notebooks</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-dropdown.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../../_static/togglebutton.js"></script>
    <script type="text/javascript" src="../../../_static/clipboard.min.js"></script>
    <script type="text/javascript" src="../../../_static/copybutton.js"></script>
    <script type="text/javascript" src="../../../_static/sphinx-book-theme.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script type="text/javascript">var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <script async="async" type="text/javascript" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script type="text/javascript">
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" type="text/javascript" src="../../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="copyright" title="Copyright" href="../../../copyright.html" />
    <link rel="next" title="Interpret and Assess the Odds" href="../InterpretAndAssessOdds/interpret-and-assess-odds.html" />
    <link rel="prev" title="Central Tendency and Outliers" href="../CentralTendencyAndOutlier/outliers-and-central-tendency.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../index.html">
  
  <img src="../../../_static/CallystoLogo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Callysto Curriculum Notebooks</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../intro.html">
   Welcome to Callysto
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../README_modified.html">
   About the Notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Arts/Arts.html">
   Arts Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../EnglishLanguageArts/EnglishLangArts.html">
   English Language Arts Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Health/Health.html">
   Health Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Languages/Languages.html">
   Languages Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Mathematics.html">
   Mathematics Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Science/Sciences.html">
   Sciences Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../SocialStudies/SocialStudies.html">
   Social Studies Section
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="reference internal" href="../Statistics.html">
   Statistics Section
  </a>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticalReasoning/statistical-reasoning.html">
     Statistical Reasoning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../IndependentProbability/independent-probability.html">
     Probability of Independent Events
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../ProbabilityExperiment/probability-experiment.html">
     Statistics and Probability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../CentralTendency/central-tendency.html">
     Central Tendancy: Mean, Median, and Mode
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../CentralTendencyAndOutlier/outliers-and-central-tendency.html">
     Central Tendency and Outliers
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Interpreting Statistical Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../InterpretAndAssessOdds/interpret-and-assess-odds.html">
     Interpret and Assess the Odds
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/statistics-project.html">
     Statistics Project
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/example-project-soccer.html">
     Stats Project - Soccer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/example-project-income-per-person.html">
     Stats Project - Income Per Person
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/climate-monthly.html">
     Monthly Climate Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/fruit-tree-popularity.html">
     Fruit Tree Popularity
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/gapminder.html">
     Gapminder Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/gapminder.html#life-expectancy">
     Life Expectancy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/google-ngram-viewer.html">
     Google Ngram Viewer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/google-search-trends.html">
     Google Trends
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/library-indicators.html">
     Public Library Performance Indicators
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/mapping-tree-locations.html">
     Mapping Tree Locations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/movie-theatre-releases.html">
     Movie Theatre Release Numbers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/nba.html">
     National Basketball Association
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/nhl.html">
     National Hockey League Statistics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/olympics.html">
     Olympics Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/pet-popularity.html">
     Pet Popularity
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/spotify-popularity.html">
     Spotify Popularity
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/weather-hourly-canada.html">
     Hourly Weather in Canada
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../StatisticsProject/AccessingData/wikipedia-mars-missions.html">
     Mars Missions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../TechnologyStudies/Technology.html">
   Technology Section
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../afterword.html">
   Afterword
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/curriculum-notebooks/Mathematics/InterpretingStatisticalData/interpreting-statistical-data.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <
        
        
        <a class="jupyterhub-button" href="https://hub.callysto.ca/jupyter/hub/user-redirect/git-pull?repo=https%3A%2F%2Fgithub.com%2Fcallysto%2Fcurriculum-notebooks&branch=master&subPath=Mathematics/InterpretingStatisticalData/interpreting-statistical-data.ipynb&depth=1" target="_parent"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../../../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        <
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-1-statistical-concepts">
   Part 1. Statistical Concepts
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-mean-and-standard-deviation">
     1.A. Mean and Standard Deviation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#b-sampling-data">
     1.B. Sampling Data
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#confidence-interval-and-confidence-level">
       Confidence interval and confidence level
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#computing-a-confidence-interval-for-a-given-confidence-level">
       Computing a confidence interval for a given confidence level
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#comments">
         Comments.
        </a>
       </li>
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#example">
         Example.
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#margin-of-error">
       Margin of error.
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-2-interactive-activities-and-real-examples">
   Part 2: Interactive Activities and Real Examples.
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-does-the-sample-size-confidence-level-and-margin-of-error-affect-confidence-intervals">
   How Does the Sample Size, Confidence Level, and Margin of Error Affect Confidence Intervals?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#confidence-intervals-and-confidence-levels-in-media">
   Confidence Intervals and Confidence Levels in Media
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#confidence-intervals-and-margin-of-error-in-media">
   Confidence Intervals and Margin of Error in Media
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#analyzing-statistical-data-presented-in-the-media">
   Analyzing Statistical Data Presented in the Media
  </a>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <p><img alt="Callysto.ca Banner" src="https://github.com/callysto/curriculum-notebooks/blob/master/callysto-notebook-banner-top.jpg?raw=true" /></p>
<p><a href="https://hub.callysto.ca/jupyter/hub/user-redirect/git-pull?repo=https%3A%2F%2Fgithub.com%2Fcallysto%2Fcurriculum-notebooks&branch=master&subPath=Mathematics/InterpretingStatisticalData/interpreting-statistical-data.ipynb&depth=1" target="_parent"><img src="https://raw.githubusercontent.com/callysto/curriculum-notebooks/master/open-in-callysto-button.svg?sanitize=true" width="123" height="24" alt="Open in Callysto"/></a></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>%%html

&lt;script&gt;
  function code_toggle() {
    if (code_shown){
      $(&#39;div.input&#39;).hide(&#39;500&#39;);
      $(&#39;#toggleButton&#39;).val(&#39;Show Code&#39;)
    } else {
      $(&#39;div.input&#39;).show(&#39;500&#39;);
      $(&#39;#toggleButton&#39;).val(&#39;Hide Code&#39;)
    }
    code_shown = !code_shown
  }

  $( document ).ready(function(){
    code_shown=false;
    $(&#39;div.input&#39;).hide()
  });
&lt;/script&gt;
&lt;p&gt; Code is hidden for ease of viewing. Click the Show/Hide button to see. &lt;/&gt;
&lt;form action=&quot;javascript:code_toggle()&quot;&gt;&lt;input type=&quot;submit&quot; id=&quot;toggleButton&quot; value=&quot;Show Code&quot;&gt;&lt;/form&gt;
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<script>
  function code_toggle() {
    if (code_shown){
      $('div.input').hide('500');
      $('#toggleButton').val('Show Code')
    } else {
      $('div.input').show('500');
      $('#toggleButton').val('Hide Code')
    }
    code_shown = !code_shown
  }

  $( document ).ready(function(){
    code_shown=false;
    $('div.input').hide()
  });
</script>
<p> Code is hidden for ease of viewing. Click the Show/Hide button to see. </>
<form action="javascript:code_toggle()"><input type="submit" id="toggleButton" value="Show Code"></form>
</div></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">scipy</span> <span class="k">as</span> <span class="nn">sp</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">st</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">from</span> <span class="nn">numpy</span> <span class="k">import</span> <span class="n">linspace</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="k">import</span> <span class="n">truncnorm</span>
<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="k">import</span> <span class="n">widgets</span><span class="p">,</span> <span class="n">interact</span><span class="p">,</span> <span class="n">Layout</span><span class="p">,</span> <span class="n">Button</span><span class="p">,</span> <span class="n">Box</span><span class="p">,</span> <span class="n">interact_manual</span><span class="p">,</span> <span class="n">fixed</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">Markdown</span><span class="p">,</span> <span class="n">Javascript</span><span class="p">,</span> <span class="n">HTML</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function: obtains z-value to use given confidence level</span>
<span class="c1"># Input: confidence level (enter value from 0 to 1.00)</span>
<span class="c1"># Output: positive z-value</span>

<span class="k">def</span> <span class="nf">get_z_value</span><span class="p">(</span><span class="n">confidence_level</span><span class="p">):</span>
    
    <span class="n">z_value_to_obtain</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="n">confidence_level</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    
    <span class="n">z_value</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">ppf</span><span class="p">(</span><span class="n">z_value_to_obtain</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="nb">round</span><span class="p">(</span> <span class="n">z_value</span> <span class="p">,</span> <span class="mi">4</span> <span class="p">)</span>

<span class="c1"># Function: calculate confidence inteval using 95% confidence level</span>
<span class="c1"># Input: data set (as a list), confidence level, and a string for output &#39;confidence interval&#39;,&#39;mean&#39;,&#39;std&#39;,&#39;error&#39;</span>
<span class="c1"># Output: confidence interval</span>
<span class="c1"># Example: calculate_confidence_interval([12,19,32,1,9,10,23,23,12,19],&#39;confidence interval&#39;)</span>

<span class="k">def</span> <span class="nf">calculate_confidence_interval</span><span class="p">(</span><span class="n">data_set</span><span class="p">,</span><span class="n">get_output</span><span class="p">,</span><span class="n">confidence_level</span><span class="p">):</span>
    
    <span class="c1"># Associated z-value with 95% confidence level</span>
    
    <span class="n">z</span> <span class="o">=</span> <span class="n">get_z_value</span><span class="p">(</span><span class="n">confidence_level</span><span class="p">)</span>
    
    <span class="c1"># Convert data set</span>
    
    <span class="n">data_set</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data_set</span><span class="p">)</span>
    
    <span class="c1"># Data set parameters</span>
    
    <span class="n">n</span> <span class="o">=</span> <span class="n">data_set</span><span class="o">.</span><span class="n">size</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">data_set</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">data_set</span><span class="p">)</span>
    <span class="n">moe</span> <span class="o">=</span> <span class="n">z</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">/</span><span class="n">n</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
    
    <span class="c1"># Output</span>
    
    <span class="n">confidence_interval</span> <span class="o">=</span> <span class="p">(</span> <span class="n">x</span><span class="o">-</span><span class="n">z</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">/</span><span class="n">n</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span> <span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="n">z</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">/</span><span class="n">n</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span> <span class="p">)</span>
    
    <span class="k">if</span><span class="p">(</span><span class="n">get_output</span> <span class="o">==</span> <span class="s1">&#39;confidence interval&#39;</span><span class="p">):</span>
        
        <span class="k">return</span> <span class="n">confidence_interval</span>
    
    <span class="k">if</span><span class="p">(</span><span class="n">get_output</span> <span class="o">==</span> <span class="s1">&#39;mean&#39;</span><span class="p">):</span>
        
        <span class="k">return</span> <span class="n">x</span>
    
    <span class="k">if</span><span class="p">(</span><span class="n">get_output</span> <span class="o">==</span> <span class="s1">&#39;std&#39;</span><span class="p">):</span>
        
        <span class="k">return</span> <span class="n">s</span>
    
    <span class="k">if</span><span class="p">(</span><span class="n">get_output</span> <span class="o">==</span> <span class="s1">&#39;margin of error&#39;</span><span class="p">):</span>
        
        <span class="k">return</span> <span class="n">moe</span>

<span class="c1"># Function: modified truncated normal</span>
<span class="c1"># Input: mean, standard deviation, lower bound, upper bound </span>
<span class="c1"># Output: truncated normal value</span>
<span class="c1"># Example: get_truncated_normal(mean=8,sd=2,low=1,upp=10)</span>

<span class="k">def</span> <span class="nf">get_truncated_normal</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">low</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">upp</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    
    <span class="k">return</span> <span class="n">truncnorm</span><span class="p">(</span> <span class="p">(</span><span class="n">low</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">/</span> <span class="n">sd</span><span class="p">,</span> <span class="p">(</span><span class="n">upp</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">/</span> <span class="n">sd</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="n">mean</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sd</span><span class="p">)</span>
 
<span class="c1"># Function: generate data points that are noramlly distributed </span>
<span class="c1"># Input: mean, standard deviation, lower bound, upper bound, number of data points</span>
<span class="c1"># Output: list of data points where the data follow a normal distribution</span>
<span class="c1"># Example: generate_data_points(175,15,150,200,100)</span>

<span class="k">def</span> <span class="nf">generate_data_values</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span><span class="n">st_dev</span><span class="p">,</span><span class="n">lower_bd</span><span class="p">,</span><span class="n">uper_bd</span><span class="p">,</span><span class="n">data_pts</span><span class="p">):</span>
    
    <span class="n">x</span> <span class="o">=</span> <span class="n">get_truncated_normal</span><span class="p">(</span><span class="n">mean</span><span class="o">=</span><span class="n">mean</span><span class="p">,</span><span class="n">sd</span><span class="o">=</span><span class="n">st_dev</span><span class="p">,</span><span class="n">low</span><span class="o">=</span><span class="n">lower_bd</span><span class="p">,</span><span class="n">upp</span><span class="o">=</span><span class="n">uper_bd</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">rvs</span><span class="p">(</span><span class="n">data_pts</span><span class="p">)</span>

<span class="c1"># Function: create a list of intervals </span>
<span class="c1"># Input: start value, size of interval, number of intervals </span>
<span class="c1"># Output: list of intervals with fixed sizes</span>
<span class="c1"># Example: create_intervals(150,2.5,20)</span>

<span class="k">def</span> <span class="nf">create_intervals</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="n">interval_size</span><span class="p">,</span><span class="n">number_of_intervals</span><span class="p">):</span>
    
    <span class="n">list_of_intervals</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number_of_intervals</span><span class="p">):</span>
        
        <span class="n">current_interval</span> <span class="o">=</span> <span class="p">[</span> <span class="n">start</span> <span class="o">+</span> <span class="n">i</span><span class="o">*</span><span class="n">interval_size</span> <span class="p">,</span> <span class="n">start</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">interval_size</span> <span class="p">]</span>
        
        <span class="n">list_of_intervals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_interval</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">list_of_intervals</span>

<span class="c1"># Function: create a dictionary with interval as keys</span>
<span class="c1"># Input: list of intervals</span>
<span class="c1"># Output: dictionary, with keys as intervals, values intiated at 0</span>
<span class="c1"># Example: interval_dictionary( [ [1,2] , [3,4] ])</span>

<span class="k">def</span> <span class="nf">interval_dict</span><span class="p">(</span><span class="n">interval_list</span><span class="p">):</span>
    
    <span class="n">interval_item_count</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">interval</span> <span class="ow">in</span> <span class="n">interval_list</span><span class="p">:</span>
    
        <span class="n">interval_key</span> <span class="o">=</span> <span class="s2">&quot;[&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">interval</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">interval</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span>

        <span class="n">interval_item_count</span><span class="p">[</span><span class="n">interval_key</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        
    <span class="k">return</span> <span class="n">interval_item_count</span>

<span class="c1"># Function: counts the number of values that belong in a certain interval</span>
<span class="c1"># Input: values of data, list of intervals, dictionary with intervals as key</span>
<span class="c1"># Ouput: dictionary with interval as key and value as the number of times a value in the data set lives in that interval</span>

<span class="k">def</span> <span class="nf">interval_value_count</span><span class="p">(</span><span class="n">data_values</span><span class="p">,</span><span class="n">interval_list</span><span class="p">,</span><span class="n">interval_dict</span><span class="p">):</span>

    <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">data_values</span><span class="p">:</span>
        
        <span class="k">for</span> <span class="n">interval</span> <span class="ow">in</span> <span class="n">interval_list</span><span class="p">:</span>

            <span class="n">lower_bd</span> <span class="o">=</span> <span class="n">interval</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">upper_bd</span> <span class="o">=</span> <span class="n">interval</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

            <span class="n">interval_key</span> <span class="o">=</span> <span class="s2">&quot;[&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">lower_bd</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">upper_bd</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span>
            
            <span class="k">if</span><span class="p">(</span><span class="n">lower_bd</span> <span class="o">&lt;=</span> <span class="n">value</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">upper_bd</span><span class="p">):</span>
                
                <span class="n">interval_dict</span><span class="p">[</span><span class="n">interval_key</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
                
    <span class="k">return</span> <span class="n">interval_dict</span>

<span class="c1"># Function: plots confidence intervals, showing where the real mean lies and showing intervals that &quot;miss&quot; the mean</span>
<span class="c1"># Input: data set, lower bound and upper bound of data set, sample set, iteration (number of intervals to generate)</span>
<span class="c1"># Output: confidence interval plots</span>

<span class="k">def</span> <span class="nf">ci_plot</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="n">iterations</span><span class="p">,</span> <span class="n">print_statement</span><span class="p">,</span><span class="n">confidence_level</span><span class="p">):</span>

    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mf">0.75</span><span class="o">*</span><span class="n">iterations</span><span class="p">))</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
    
    <span class="c1"># Obtain data set statistics</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">data_mean</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    
    <span class="c1"># We could use the data set&#39;s minimum and maximum to set as x_min and x_max, but we&#39;ve set it to be 150,200</span>
    <span class="c1"># in this case, just to make the plot visually appealing. </span>
    <span class="c1"># (i.e. the dataset is randomly generated from 150-200, however, we might have 151.3,198.7 as min,max.</span>
    
    <span class="n">xmin</span> <span class="o">=</span> <span class="n">lower_bound</span>
    <span class="n">xmax</span> <span class="o">=</span> <span class="n">upper_bound</span>
    
    <span class="c1"># Plot confidence intervals</span>

    <span class="n">y</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">iterations</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iterations</span><span class="p">):</span>

        <span class="n">sample_set</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">sample</span><span class="p">)</span>
        <span class="n">confidence_interval</span> <span class="o">=</span> <span class="n">calculate_confidence_interval</span><span class="p">(</span><span class="n">sample_set</span><span class="p">,</span> <span class="s1">&#39;confidence interval&#39;</span><span class="p">,</span><span class="n">confidence_level</span><span class="p">)</span>    
        <span class="n">plt</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="mf">0.75</span><span class="o">*</span><span class="n">i</span> <span class="p">,</span> <span class="n">xmin</span><span class="p">,</span> <span class="n">confidence_interval</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="mf">0.75</span><span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="n">confidence_interval</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">xmax</span><span class="p">)</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">data_mean</span> <span class="o">&lt;</span> <span class="n">confidence_interval</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="n">data_mean</span> <span class="o">&gt;</span> <span class="n">confidence_interval</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="mf">0.75</span><span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="n">confidence_interval</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">confidence_interval</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">confidence_interval</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.75</span><span class="o">*</span><span class="n">i</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>  <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">weight</span> <span class="o">=</span> <span class="s1">&#39;bold&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">confidence_interval</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>  <span class="mf">0.75</span><span class="o">*</span><span class="n">i</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">weight</span> <span class="o">=</span> <span class="s1">&#39;bold&#39;</span><span class="p">)</span>  
            <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>

            <span class="n">plt</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="mf">0.75</span><span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="n">confidence_interval</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">confidence_interval</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">confidence_interval</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.75</span><span class="o">*</span><span class="n">i</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>  <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">weight</span> <span class="o">=</span> <span class="s1">&#39;bold&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">confidence_interval</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>  <span class="mf">0.75</span><span class="o">*</span><span class="n">i</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">weight</span> <span class="o">=</span> <span class="s1">&#39;bold&#39;</span><span class="p">)</span>

        <span class="n">ci_min</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">confidence_interval</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="n">ci_max</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">confidence_interval</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">confidence_interval</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.75</span><span class="o">*</span><span class="n">i</span> <span class="o">-</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">ci_min</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>  <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">confidence_interval</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>  <span class="mf">0.75</span><span class="o">*</span><span class="n">i</span> <span class="o">-</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">ci_max</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">lower_bound</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">0.75</span><span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">verticalalignment</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">upper_bound</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.75</span><span class="o">*</span><span class="n">i</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">verticalalignment</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">print_statement</span> <span class="o">==</span> <span class="kc">True</span><span class="p">):</span>
        
        <span class="n">percentage_containing_true</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">((</span><span class="n">iterations</span><span class="o">-</span><span class="n">counter</span><span class="p">)</span><span class="o">/</span><span class="n">iterations</span><span class="p">))</span><span class="o">*</span><span class="mi">100</span>
        <span class="n">percentage_not_containing_true</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span> <span class="o">-</span> <span class="n">percentage_containing_true</span><span class="p">)</span>
        
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;center&gt;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">percentage_containing_true</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span><span class="s2">&quot;</span><span class="si">% o</span><span class="s2">f the confidence intervals contain the true mean value. That is, &quot;</span> 
                         <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">percentage_not_containing_true</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="si">% d</span><span class="s2">o not. &lt;center&gt;&quot;</span><span class="p">))</span>
            
    <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">data_mean</span><span class="p">,</span> <span class="mf">0.75</span><span class="o">*</span><span class="n">iterations</span><span class="o">+</span><span class="mf">0.25</span> <span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data_mean</span><span class="p">)),</span> <span class="n">horizontalalignment</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">data_mean</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">iterations</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">lower_bound</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span><span class="n">upper_bound</span><span class="o">+</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-.</span><span class="mi">25</span><span class="p">,</span><span class="mf">0.75</span><span class="o">*</span><span class="n">iterations</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
<span class="c1"># Function: executes the cell below on click event using a Jupyter button widget</span>
    
<span class="k">def</span> <span class="nf">run_cells</span><span class="p">(</span><span class="n">ev</span><span class="p">):</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Javascript</span><span class="p">(</span><span class="s1">&#39;IPython.notebook.execute_cell_range(IPython.notebook.get_selected_index()+1,IPython.notebook.get_selected_index()+2)&#39;</span><span class="p">))</span>
    
<span class="c1"># Function: executes the cell above on click event using Jupyter button widget</span>
<span class="c1"># Note: I tried parametrizing this function by allowing for which range of cells to run, but the JS command</span>
<span class="c1">#       does not work for some reason.</span>
    
<span class="k">def</span> <span class="nf">run_cell_above</span><span class="p">(</span><span class="n">ev</span><span class="p">):</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Javascript</span><span class="p">(</span><span class="s1">&#39;IPython.notebook.execute_cell_range(IPython.notebook.get_selected_index()-1,IPython.notebook.get_selected_index())&#39;</span><span class="p">))</span>

<span class="c1"># Function: executes the cell previous on click event using a Jupyter button widget</span>

<span class="k">def</span> <span class="nf">run_prev</span><span class="p">(</span><span class="n">ev</span><span class="p">):</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Javascript</span><span class="p">(</span><span class="s1">&#39;IPython.notebook.execute_cell_range(IPython.notebook.get_selected_index()-2,IPython.notebook.get_selected_index()+0)&#39;</span><span class="p">))</span>
    
<span class="k">def</span> <span class="nf">run_above_current</span><span class="p">(</span><span class="n">ev</span><span class="p">):</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Javascript</span><span class="p">(</span><span class="s1">&#39;IPython.notebook.execute_cell_range(IPython.notebook.get_selected_index()-2,IPython.notebook.get_selected_index()+1)&#39;</span><span class="p">))</span>    
    
<span class="c1"># Function: checks if input is float</span>
<span class="c1"># Input: string </span>
<span class="c1"># Output: boolean</span>

<span class="k">def</span> <span class="nf">isfloat</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
    
    <span class="k">try</span><span class="p">:</span> 
        
        <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="kc">True</span>
    
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        
        <span class="k">return</span> <span class="kc">False</span>
    
<span class="c1"># Function: check if input is positive float</span>
<span class="c1"># Input: string</span>
<span class="c1"># Output: 1 or 0</span>
    
<span class="k">def</span> <span class="nf">is_positive_float</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>

    <span class="k">if</span><span class="p">(</span><span class="n">isfloat</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span> <span class="ow">and</span> <span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">):</span>

        <span class="k">return</span> <span class="mi">1</span>

    <span class="k">else</span><span class="p">:</span>

        <span class="k">return</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Parameters for data generation</span>

<span class="n">data_points</span> <span class="o">=</span> <span class="mi">25000</span>
<span class="n">mean</span> <span class="o">=</span> <span class="mi">175</span>
<span class="n">standard_error</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">lower_bound</span> <span class="o">=</span> <span class="mi">150</span>
<span class="n">upper_bound</span> <span class="o">=</span> <span class="mi">200</span>

<span class="c1"># Functions to call to set up dictionary containing height intervals and population count</span>
        
<span class="n">data_values</span> <span class="o">=</span> <span class="n">generate_data_values</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span><span class="n">standard_error</span><span class="p">,</span><span class="n">lower_bound</span><span class="p">,</span><span class="n">upper_bound</span><span class="p">,</span><span class="n">data_points</span><span class="p">)</span>
<span class="n">interval_list</span> <span class="o">=</span> <span class="n">create_intervals</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="n">interval_dictionary</span> <span class="o">=</span> <span class="n">interval_dict</span><span class="p">(</span><span class="n">interval_list</span><span class="p">)</span>
<span class="n">data_dict</span> <span class="o">=</span> <span class="n">interval_value_count</span><span class="p">(</span><span class="n">data_values</span><span class="p">,</span><span class="n">interval_list</span><span class="p">,</span><span class="n">interval_dictionary</span><span class="p">)</span>

<span class="c1"># Note: </span>
<span class="c1"># This interval is added with 0 value to get the last ticker value of 200 to show up in the bar plot later</span>
<span class="c1"># It&#39;s for improving the presentation of the bar plot</span>

<span class="n">data_dict</span><span class="p">[</span><span class="s1">&#39;200.0,202.25&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="interpreting-statistical-data">
<h1>Interpreting Statistical Data<a class="headerlink" href="#interpreting-statistical-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Statistical reasoning plays an increasingly large role in everyday’s life, from politics (opinion polls) to sports (statistics about sports teams), through many news about health or economy for example. The goal of this notebook is to introduce and illustrate two important notions about interpreting statistical data, the notions of confidence interval and confidence level.</p>
<p>This notebook is split into two parts. The first part is a short lecture about the statistical concepts we want to work with. The second one  provides some interactive tools to experiment with them and illustrates the use of these concepts in some real-world applications.</p>
</div>
<div class="section" id="part-1-statistical-concepts">
<h2>Part 1. Statistical Concepts<a class="headerlink" href="#part-1-statistical-concepts" title="Permalink to this headline">¶</a></h2>
<div class="section" id="a-mean-and-standard-deviation">
<h3>1.A. Mean and Standard Deviation<a class="headerlink" href="#a-mean-and-standard-deviation" title="Permalink to this headline">¶</a></h3>
<p>We first introduce well known concepts, mean and standard deviation.</p>
<div class="alert alert-warning">
<font color="black"><b>Definition: mean.</b> Given a data set of $N$ numbers $\{x_1,x_2,\dots,x_N\}$, we denote the **mean** of the data set $\overline{x}$ (pronounced "x bar") to be
$$ $$
$$\overline{x} = \frac{x_1+x_2+\cdots+x_N}{N}.$$</font>
</div>
<p>**Example. ** Suppose we have the following set of data: <span class="math notranslate nohighlight">\(\{13, 19, 7, 3\}\)</span>. Here, we have <span class="math notranslate nohighlight">\(4\)</span> numbers, so <span class="math notranslate nohighlight">\(N=4\)</span>. The mean of this data set is given by:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align} 
\overline{x} &amp;= \frac{x_1+x_2+x_3+x_4}{4} \\
&amp;= \frac{13+19+7+3}{4} \\
&amp;= 10.5 
\end{align}\end{split}\]</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate random mean for question</span>

<span class="n">expected_answer</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span> <span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Display exercise prompt</span>

<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;**Exercise. ** Produce a data set with five different positive distinct values with a mean of &quot;</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">expected_answer</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span><span class="p">))</span>
<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;In the input box below, separate each of your values with a comma.&quot;</span><span class="p">))</span>
<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;For example: `52.7, 39.2, 11.3, 42.1 , 56.5`&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p>**Exercise. ** Produce a data set with five different positive distinct values with a mean of $61.2$</p>
<p>In the input box below, separate each of your values with a comma.</p>
<p>For example: <code class="docutils literal notranslate"><span class="pre">52.7,</span> <span class="pre">39.2,</span> <span class="pre">11.3,</span> <span class="pre">42.1</span> <span class="pre">,</span> <span class="pre">56.5</span></code></p>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up text and button widget parameters</span>

<span class="n">mean_exercise_text</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;Enter your numbers here.&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;40%&#39;</span><span class="p">)</span> <span class="p">)</span>
<span class="n">mean_exercise_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span> <span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;20%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">)</span> <span class="p">)</span>
<span class="n">generate_new_mean</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span> <span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Generate New Exercise&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;20%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">)</span> <span class="p">)</span>

<span class="c1"># Display widgets</span>

<span class="n">display</span><span class="p">(</span><span class="n">mean_exercise_text</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">mean_exercise_button</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">generate_new_mean</span><span class="p">)</span>

<span class="c1"># On button click, execute the next cell</span>

<span class="n">mean_exercise_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_cells</span> <span class="p">)</span>
<span class="n">generate_new_mean</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_prev</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "b18171702f2c4aa0b0b9e20cf92a2ebe", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "76e22b35795643dfa4e7148e4dfff72b", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "4b6fabb3e47340ccb5110653cc3188cd", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Obtain user input</span>

<span class="n">user_input</span> <span class="o">=</span> <span class="n">mean_exercise_text</span><span class="o">.</span><span class="n">value</span>
<span class="n">user_entries</span> <span class="o">=</span> <span class="n">user_input</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>

<span class="c1"># Check user input validity</span>

<span class="n">input_valid</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">user_input_total</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">user_input_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

<span class="c1"># Check for number of entries</span>

<span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">user_entries</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">):</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Too much entries. Please enter five distinct decimal values.&quot;</span><span class="p">))</span>
    <span class="n">input_valid</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">if</span><span class="p">(</span><span class="n">user_input</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    
    <span class="c1"># Check entries are of positive decimal values only</span>

    <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">user_entries</span><span class="p">:</span>

        <span class="k">if</span><span class="p">(</span><span class="n">is_positive_float</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span><span class="p">):</span>

            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;`&quot;</span> <span class="o">+</span> <span class="n">entry</span> <span class="o">+</span> <span class="s2">&quot;`&quot;</span> <span class="o">+</span> <span class="s2">&quot; is not a valid input. Please enter positive decimal values only.&quot;</span><span class="p">))</span>
            <span class="n">input_valid</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">else</span><span class="p">:</span> 

            <span class="n">user_input_total</span> <span class="o">+=</span> <span class="nb">float</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
            <span class="n">user_input_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">entry</span><span class="p">))</span>

    <span class="c1"># Check if five distinct positive decimal entries</span>

    <span class="k">if</span><span class="p">(</span><span class="n">input_valid</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">user_input_set</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">):</span>

        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Please enter five distinct positive decimal values only.&quot;</span><span class="p">))</span>
        <span class="n">input_valid</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="c1"># Prepare string output format</span>

    <span class="n">string_out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

    <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">user_input_set</span><span class="p">:</span>

        <span class="n">string_out</span> <span class="o">+=</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span>

    <span class="n">string_out</span> <span class="o">=</span> <span class="n">string_out</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">string_out</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]</span>

    <span class="c1"># Check user mean</span>

    <span class="n">user_mean</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span> <span class="n">user_input_total</span><span class="o">/</span><span class="mi">5</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>
    <span class="n">user_mean_str</span> <span class="o">=</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_mean</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span>

    <span class="k">if</span><span class="p">(</span><span class="n">input_valid</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">user_mean</span> <span class="o">==</span> <span class="n">expected_answer</span><span class="p">):</span>

        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Your data set &quot;</span> <span class="o">+</span> <span class="n">string_out</span> <span class="o">+</span> <span class="s2">&quot; has a mean value of &quot;</span> <span class="o">+</span> <span class="n">user_mean_str</span> <span class="o">+</span> <span class="s2">&quot; which is the expected mean value!&quot;</span><span class="p">))</span>
        <span class="n">mean_exercise_button</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">mean_exercise_text</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        
    <span class="k">elif</span><span class="p">(</span><span class="n">input_valid</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">user_mean</span> <span class="o">!=</span> <span class="n">expected_answer</span><span class="p">):</span>

        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Your data set &quot;</span> <span class="o">+</span> <span class="n">string_out</span> <span class="o">+</span> <span class="s2">&quot; has a mean value of &quot;</span> <span class="o">+</span> <span class="n">user_mean_str</span> <span class="o">+</span> <span class="s2">&quot;. The expected mean value is &quot;</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">expected_answer</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="s2">&quot; Please try again.&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="math notranslate nohighlight">
\[\cdots\]</div>
<div class="alert alert-warning">
<font color="black"><b>Definition: standard deviation.</b> Given a data set of $N$ numbers $\{x_1,x_2,\dots,x_N\}$, we define the **standard deviation** of the data set, that we denote by $s$ as follows:
$$\displaystyle s = \sqrt{ \frac{1}{N}\left( (x_1-\overline{x})^2 + (x_2-\overline{x})^2 + \cdots + (x_N-\overline{x})^2 \right) }.$$</font>
</div>
<p>**Example. ** Suppose again that we have the following set of data: <span class="math notranslate nohighlight">\(\{13, 19, 7, 3\}\)</span>. In the previous example, we’ve calculated <span class="math notranslate nohighlight">\(N=4\)</span> and <span class="math notranslate nohighlight">\(\overline{x} = 10.5\)</span>. The standard deviation of this data set is given to be:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align} s &amp;= \sqrt{ \frac{1}{4}\left( (x_1-\overline{x})^2 + (x_2-\overline{x})^2 + (x_3-\overline{x})^2 + + (x_4-\overline{x})^2 \right) }  \\
&amp;= \sqrt{ \frac{1}{4}\left( (13 - 10.5)^2 + (19-10.5)^2 + (7-10.5)^2 + (3-10.5)^2 \right) } \\
&amp;= \sqrt{ \frac{1}{4}\left( 6.25 + 72.5 + 12.25 + 56.25 \right) } \\
&amp;= \sqrt{ \frac{147.25}{4} } \\
&amp;\approx 6.06733\dots \\
\end{align}\end{split}\]</div>
<p>**Significance. **
The standard deviation complements the mean by telling us how much we can expect that an element of our data set deviates from the mean. The mean alone does not differentiate between the case where all elements of our data set have the same value (for example <span class="math notranslate nohighlight">\(\{2,2,2,2\}\)</span> with mean <span class="math notranslate nohighlight">\(2\)</span> and standard deviation <span class="math notranslate nohighlight">\(0\)</span>) or have value alternating around the mean (<span class="math notranslate nohighlight">\(\{1,3,1,3\}\)</span> has also mean <span class="math notranslate nohighlight">\(2\)</span> but standard deviation <span class="math notranslate nohighlight">\(1\)</span>).</p>
<p>The standard deviation of a data set is a measure that quantifies the amount of variation in the data set. What a low standard deviation says is that the data points tend to be closer to the mean of the data set, whereas a high standard deviation says that the data points are more spread apart and take over a wider range of values that are further from the mean.</p>
<p>**Exercise: ** Produce a data set of four values with a mean value of <span class="math notranslate nohighlight">\(5\)</span> and standard deviation of <span class="math notranslate nohighlight">\(2.24\)</span>.</p>
<p>**Hint: ** Use integer values only.</p>
<p>In the input box below, separate each of your values with a comma.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">1,</span> <span class="pre">7,</span> <span class="pre">8,</span> <span class="pre">9</span></code></p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up text and button widget parameters</span>

<span class="n">std_exercise_text</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;Enter your numbers here.&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;40%&#39;</span><span class="p">)</span> <span class="p">)</span>
<span class="n">std_exercise_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span> <span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;20%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">)</span> <span class="p">)</span>

<span class="c1"># Display widgets</span>

<span class="n">display</span><span class="p">(</span><span class="n">std_exercise_text</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">std_exercise_button</span><span class="p">)</span>

<span class="c1"># On button click, execute the next cell</span>

<span class="n">std_exercise_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_cells</span> <span class="p">)</span>

<span class="c1"># Vector holding mean, std values</span>

<span class="n">mean_vector</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">std_vector</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">dataset_vector</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "9ddee1127f194de48d0975ecf1d36934", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "6d77453c16924202a841fcf76a08892d", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Expected input</span>

<span class="n">expected_mean</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">expected_std</span> <span class="o">=</span> <span class="mf">2.24</span>

<span class="c1"># Obtain user input</span>

<span class="n">user_input</span> <span class="o">=</span> <span class="n">std_exercise_text</span><span class="o">.</span><span class="n">value</span>
<span class="n">user_entries</span> <span class="o">=</span> <span class="n">user_input</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>

<span class="c1"># Check user input validity</span>

<span class="n">input_valid</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">user_input_total</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="n">user_input_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

<span class="c1"># Check for number of entries</span>

<span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">user_entries</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">):</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Too much entries. Please enter four decimal values only.&quot;</span><span class="p">))</span>
    <span class="n">input_valid</span> <span class="o">=</span> <span class="mi">0</span>
    
<span class="k">if</span><span class="p">(</span><span class="n">user_input</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">):</span>
    
    <span class="c1"># Check entries are of positive decimal values only</span>

    <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">user_entries</span><span class="p">:</span>

        <span class="k">if</span><span class="p">(</span><span class="n">is_positive_float</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span><span class="p">):</span>

            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;`&quot;</span> <span class="o">+</span> <span class="n">entry</span> <span class="o">+</span> <span class="s2">&quot;`&quot;</span> <span class="o">+</span> <span class="s2">&quot; is not a valid input. Please enter positive decimal values only.&quot;</span><span class="p">))</span>
            <span class="n">input_valid</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">else</span><span class="p">:</span>

            <span class="n">user_input_total</span> <span class="o">+=</span> <span class="nb">float</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
            <span class="n">user_input_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">entry</span><span class="p">))</span>
            
    <span class="c1"># Check if five distinct positive decimal entries</span>

    <span class="k">if</span><span class="p">(</span><span class="n">input_valid</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">user_input_set</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">):</span>

        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Please enter four distinct positive decimal values only.&quot;</span><span class="p">))</span>
        <span class="n">input_valid</span> <span class="o">=</span> <span class="mi">0</span>
        
    <span class="k">if</span><span class="p">(</span><span class="n">input_valid</span> <span class="o">==</span> <span class="mi">1</span><span class="p">):</span>

        <span class="c1"># Calculate user mean</span>

        <span class="n">user_mean</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">user_entries</span><span class="p">:</span>

            <span class="n">user_mean</span> <span class="o">+=</span> <span class="nb">float</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

        <span class="n">user_mean</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span> <span class="n">user_mean</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">user_entries</span><span class="p">)</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>

        <span class="c1"># Calculate user STD</span>

        <span class="n">total_sum</span> <span class="o">=</span> <span class="mi">0</span> 

        <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">user_entries</span><span class="p">:</span>

            <span class="n">entry</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

            <span class="n">total_sum</span> <span class="o">+=</span> <span class="p">(</span><span class="n">entry</span><span class="o">-</span><span class="n">user_mean</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>

        <span class="n">user_std</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span> <span class="p">(</span><span class="n">total_sum</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">user_entries</span><span class="p">))</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span>
        
        <span class="c1"># Correct input </span>
        
        <span class="k">if</span><span class="p">(</span><span class="n">input_valid</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">user_mean</span> <span class="o">==</span> <span class="n">expected_mean</span> <span class="ow">and</span> <span class="n">user_std</span> <span class="o">==</span> <span class="n">expected_std</span><span class="p">):</span>
            
            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Your dataset has the expected mean of $5$ and standard deviation of $2.58!$&quot;</span><span class="p">))</span>
            
            <span class="c1"># Close tabs</span>
            
            <span class="n">std_exercise_button</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">std_exercise_text</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            
        <span class="c1"># Display values</span>
        
        <span class="k">elif</span><span class="p">(</span><span class="n">input_valid</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">user_mean</span> <span class="o">!=</span> <span class="n">expected_mean</span> <span class="ow">and</span> <span class="n">user_std</span> <span class="o">!=</span> <span class="n">expected_std</span><span class="p">):</span>
            
            <span class="n">wrong_mean_message</span> <span class="o">=</span> <span class="s2">&quot;Your data set has a mean of &quot;</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_mean</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="s2">&quot; which does not equal the expected mean of $5$.&quot;</span>
            
            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">wrong_mean_message</span><span class="p">))</span>
            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Your data set gives the following values: &quot;</span><span class="p">))</span>
            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Mean: &quot;</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_mean</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span><span class="p">))</span>
            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Standard Deviation: &quot;</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">user_std</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span><span class="p">))</span>
            
        <span class="k">elif</span><span class="p">(</span><span class="n">input_valid</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">user_mean</span> <span class="o">==</span> <span class="n">expected_mean</span> <span class="ow">and</span> <span class="n">user_std</span> <span class="o">!=</span> <span class="n">expected_std</span><span class="p">):</span>

            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Your data set gives the following values: &quot;</span><span class="p">))</span>
            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Mean: &quot;</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">user_mean</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span><span class="p">))</span>
            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;Standard Deviation: &quot;</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">user_std</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span><span class="p">))</span>
            
            <span class="n">mean_vector</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">user_mean</span><span class="p">)</span>
            <span class="n">std_vector</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">user_std</span><span class="p">)</span>
            <span class="n">dataset_vector</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">user_entries</span><span class="p">)</span>
            
            <span class="c1"># Check for std the user came up with that is closest to the expected answer</span>

            <span class="n">diff_vector</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">std_vector</span><span class="p">:</span>

                <span class="n">diff</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">entry</span><span class="o">-</span><span class="n">expected_std</span><span class="p">)</span>
                <span class="n">diff_vector</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="nb">round</span><span class="p">(</span><span class="n">diff</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="p">)</span>

            <span class="c1"># Obtain index of minimum difference in the list </span>

            <span class="n">index_of_best</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmin</span><span class="p">(</span><span class="n">diff_vector</span><span class="p">)</span>
            
            <span class="c1"># Check if user&#39;s current answer is better than their best answer so far</span>
            
            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;**Best input so far: **&quot;</span><span class="p">))</span>
            
            <span class="n">current_diff</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">user_std</span> <span class="o">-</span> <span class="n">expected_std</span><span class="p">)</span>
            
            <span class="n">best_dataset</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            
            <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">dataset_vector</span><span class="p">[</span><span class="n">index_of_best</span><span class="p">]:</span>
                
                <span class="n">best_dataset</span> <span class="o">+=</span> <span class="n">entry</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span>
            
            <span class="n">best_dataset_msg</span> <span class="o">=</span> <span class="s2">&quot;Data set with values: &quot;</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">best_dataset</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="s2">&quot; has standard value of &quot;</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">std_vector</span><span class="p">[</span><span class="n">index_of_best</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="s2">&quot; which is closest to the expected standard value of $2.24.$&quot;</span>

            <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">best_dataset_msg</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="b-sampling-data">
<h3>1.B. Sampling Data<a class="headerlink" href="#b-sampling-data" title="Permalink to this headline">¶</a></h3>
<p>We consider now the following context, inspired by real-world application of statistics. We want to obtain the average (mean) value of a statistic over a very large number of cases. For example, we could be interested in the average height of people in Canada. In order to obtain the <em>exact answer</em>, we would need to measure the height of all people living in Canada. This is obviously impossible. So we need to proceed in a different way: we will select a <strong>random sample</strong> of the Canadian population and obtain the height measurements of the people in that sample. And the question that naturally occurs is: how can we deduce anything about the average height of the whole population from this sample? Surprisingly, we will see that we can say something, using the notions of <strong>confidence level</strong>, <strong>confidence interval</strong> and <strong>margin of error</strong>, concepts you might have heard about especially in opinion polls. This is based on non-trivial statistics, and we will not explore the technical aspects, but illustrate these notions with concrete examples.</p>
<div class="section" id="confidence-interval-and-confidence-level">
<h4>Confidence interval and confidence level<a class="headerlink" href="#confidence-interval-and-confidence-level" title="Permalink to this headline">¶</a></h4>
<p>So there exists a quantity <span class="math notranslate nohighlight">\(x\)</span> we want to estimate because we can not obtain it exactly (the average height of people living in Canada in our example). We have measured the height of a random sample of <span class="math notranslate nohighlight">\(N\)</span> people, let’s denote it by  <span class="math notranslate nohighlight">\(\{x_1,x_2,\dots,x_N\}\)</span>.</p>
<p>The first important point related to sampling data is to estimate the mean of a quantity, that is, we will not compute a single number to approximate <span class="math notranslate nohighlight">\(x\)</span>, but an <strong>interval</strong> <span class="math notranslate nohighlight">\((x_\text{low},x_\text{high})\)</span>. So we decide to lose <em>precision</em>, as an interval is less precise than a single number. The key point is that we want to be <strong>confident</strong>  that the value <span class="math notranslate nohighlight">\(x\)</span> is in that interval. This notion of confidence is important and we want to quantify it in some way. We would like to be able to say something like “I am <span class="math notranslate nohighlight">\(95\%\)</span> confident that the value <span class="math notranslate nohighlight">\(x\)</span> is in the interval <span class="math notranslate nohighlight">\((x_\text{low},x_\text{high})\)</span> I computed”. This is a sentence we read often with opinion polls, aimed at describing their <strong>accuracy</strong>.</p>
<p>Now, for us, we want to understand how to interpret the expression “<span class="math notranslate nohighlight">\(95\%\)</span> confident”. In our example about averaging the height of Canadian people, it can be understood as follows: if we were going to repeat <em>often</em> (ideally an infinite number of times … obviously this is impossible) and <em>independently</em> (our samples are truly random) the process of</p>
<ul class="simple">
<li><p>selecting a random set of <span class="math notranslate nohighlight">\(N\)</span> people</p></li>
<li><p>measuring the height of the sampled people, <span class="math notranslate nohighlight">\(\{x_1,x_2,\dots,x_N\}\)</span></p></li>
<li><p>using the same method to deduce from <span class="math notranslate nohighlight">\(\{x_1,x_2,\dots,x_N\}\)</span> the interval <span class="math notranslate nohighlight">\((x_\text{low},x_\text{high})\)</span></p></li>
</ul>
<p>then <span class="math notranslate nohighlight">\(95\%\)</span> of the intervals generated as above would contain the exact value <span class="math notranslate nohighlight">\(x\)</span> we want to estimate.</p>
<p>So we have <strong>no guarantee</strong> about the precise interval <span class="math notranslate nohighlight">\((x_\text{low},x_\text{high})\)</span> we computed from a specific sample <span class="math notranslate nohighlight">\(\{x_1,x_2,\dots,x_N\}\)</span> but we expect it contains <span class="math notranslate nohighlight">\(x\)</span> with probability <span class="math notranslate nohighlight">\(95\%\)</span>.</p>
</div>
<div class="section" id="computing-a-confidence-interval-for-a-given-confidence-level">
<h4>Computing a confidence interval for a given confidence level<a class="headerlink" href="#computing-a-confidence-interval-for-a-given-confidence-level" title="Permalink to this headline">¶</a></h4>
<p>The question now is: if we want to have a given confidence level (so we chose it), what is the method to compute <span class="math notranslate nohighlight">\((x_\text{low},x_\text{high})\)</span> from <span class="math notranslate nohighlight">\(\{x_1,x_2,\dots,x_N\}\)</span>? Let’s denote the confidence level by <span class="math notranslate nohighlight">\(\beta\)</span>, a real number between <span class="math notranslate nohighlight">\(0\)</span> and <span class="math notranslate nohighlight">\(1\)</span> (<span class="math notranslate nohighlight">\(\beta=0.95\)</span> means a confidence level of <span class="math notranslate nohighlight">\(95\%\)</span>).</p>
<p>The method to compute <span class="math notranslate nohighlight">\((x_\text{low},x_\text{high})\)</span> is as follows:</p>
<ul class="simple">
<li><p>Step 1. We calculate the mean <span class="math notranslate nohighlight">\(\overline{x}\)</span> of the sampled set <span class="math notranslate nohighlight">\(\{x_1,x_2,\dots,x_N\}\)</span>, and its standard deviation <span class="math notranslate nohighlight">\(s\)</span>.</p></li>
<li><p>Step 2. We find the <strong>z-score</strong> <span class="math notranslate nohighlight">\(z\)</span> corresponding to the chosen confidence level <span class="math notranslate nohighlight">\(\beta\)</span> (we will not discuss in this notebook how these z-scores are obtained, but they can be read in a table, see http://www.statisticshowto.com/tables/z-table/ and we provide a separate notebook to compute it given <span class="math notranslate nohighlight">\(\beta\)</span>).</p></li>
<li><p>Step 3. Calculate <span class="math notranslate nohighlight">\(\displaystyle x_\text{low}=\overline{x}- z\frac{s}{\sqrt{N}}\)</span> and <span class="math notranslate nohighlight">\(\displaystyle x_\text{high}= \overline{x}+ z\frac{s}{\sqrt{N}}\)</span>.
So our confidence interval is:
$<span class="math notranslate nohighlight">\((x_\text{low},x_\text{high}) = \displaystyle \left(\overline{x}- z\frac{s}{\sqrt{N}} ,\overline{x}+ z\frac{s}{\sqrt{N}} \right).\)</span>$</p></li>
</ul>
<div class="section" id="comments">
<h5>Comments.<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h5>
<p>This formula is actually quite intuitive. We can see that this confidence interval is centred around the mean of the sampled data (<span class="math notranslate nohighlight">\(\overline{x}\)</span>), with some slack on both sides that depends on the standard deviation, the number of samples and the mysterious z-score. So intuitively, we assume that <span class="math notranslate nohighlight">\(\overline{x}\)</span> is more or less our approximation of <span class="math notranslate nohighlight">\(x\)</span>; this makes sense. But if the standard deviation is large (i.e. we see lots of variation in the sampled measurements) then we widen the interval. Conversely, if we sample many data points (i.e. if <span class="math notranslate nohighlight">\(N\)</span> is large) then we shrink the interval (because we divide by <span class="math notranslate nohighlight">\(\sqrt{N}\)</span>); again this make sense, as the more we sample the more we expect to get a good idea of the quantity we want to approximate. What is nice is that all these ideas combine into a quite simple formula, thanks to the z-score.</p>
</div>
<div class="section" id="example">
<h5>Example.<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h5>
<p>Engineers are concerned with designing devices operated by workers to achieve high productivity and comfort. The article “Studies on Ergonomically Designed Alphanumeric Keyboards” (<em>Human Factors</em>, 185: 175-187) reports a study of preferred height for a keyboard. A sample of <span class="math notranslate nohighlight">\(N=31\)</span> is given and a preferred keyboard height was reported by each of the <span class="math notranslate nohighlight">\(31\)</span> sampled typists, with the sample average preferred being <span class="math notranslate nohighlight">\(\overline{x} = 80.0\)</span> cm and the standard deviation being <span class="math notranslate nohighlight">\(s=2.0\)</span> cm. Using the steps above, how may we obtain a 95% confidence interval for the real mean - the real preferred height for the population of experienced typists.</p>
<ul class="simple">
<li><p>Step 1. We know <span class="math notranslate nohighlight">\(N=31, \overline{x}=80\)</span>, and <span class="math notranslate nohighlight">\(s=2\)</span>.</p></li>
<li><p>Step 2. Since we want a confidence level of 95%, we obtain an associated z-score of <span class="math notranslate nohighlight">\(1.96\)</span>.</p></li>
<li><p>Step 3. Calculating the estimates, we have: <span class="math notranslate nohighlight">\(\overline{x} \pm 1.96\cdot \frac{s}{\sqrt{n}} = 80 \pm (1.96)\frac{2.0}{\sqrt{31}} = 80.0 \pm 0.7 \)</span>. So <span class="math notranslate nohighlight">\(x_\text{low} = 79.3\)</span> and <span class="math notranslate nohighlight">\(x_\text{high} = 80.7\)</span>.</p></li>
</ul>
<p>So our confidence interval is <span class="math notranslate nohighlight">\((79.3,80.7)\)</span> and the confidence level of this interval (the probability it contains the mean preferred height for the population of experienced typists) is 95%. we can observe that the interval is quite narrow, thanks to the small standard deviation and the large value of <span class="math notranslate nohighlight">\(N\)</span>.</p>
</div>
</div>
<div class="section" id="margin-of-error">
<h4>Margin of error.<a class="headerlink" href="#margin-of-error" title="Permalink to this headline">¶</a></h4>
<p>Last we introduce the notion of margin of error.</p>
<div class="alert alert-warning">
<font color="black"><b>Definition: margin of error.</b> In a confidence interval, we define the value $z\frac{s}{\sqrt{n}}$ to be the **margin of error** of the confidence interval.</font>
</div>
<p>So we can see that actually the margin of error is nothing else that the half-size of the interval, based on the standard deviation, the sample size and the z-score associated to the confidence level.</p>
<p>This is exactly how you should understand the notion of margin of error that we see in many opinion polls: they have polled a sample of <span class="math notranslate nohighlight">\(N\)</span> people, chosen a confidence level, computed the corresponding confidence interval and report the centre value <span class="math notranslate nohighlight">\(\overline{x}\)</span> and the half-size of the interval as margin of error.</p>
</div>
</div>
</div>
<div class="section" id="part-2-interactive-activities-and-real-examples">
<h2>Part 2: Interactive Activities and Real Examples.<a class="headerlink" href="#part-2-interactive-activities-and-real-examples" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="how-does-the-sample-size-confidence-level-and-margin-of-error-affect-confidence-intervals">
<h2>How Does the Sample Size, Confidence Level, and Margin of Error Affect Confidence Intervals?<a class="headerlink" href="#how-does-the-sample-size-confidence-level-and-margin-of-error-affect-confidence-intervals" title="Permalink to this headline">¶</a></h2>
<p>When calculating confidence interval, margin of error, and determining what confidence level to use, the size of the random sample we use is important.</p>
<p>In the example we develop now, we look at the height distribution of men, among a population size of 25,000 individuals. In an interactive tool below, we will be looking at the impact of the random sample size on the size of the confidence interval and the margin of error.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_values</span> <span class="o">=</span> <span class="n">data_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="n">y_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span> <span class="n">data_dict</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="p">)</span>

<span class="c1"># Fix labeling for barchart</span>

<span class="n">x_labels</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">y_values</span><span class="p">)</span> <span class="p">)</span> 

<span class="c1"># Bar plot</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="n">bars</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span> <span class="n">x_labels</span> <span class="o">+</span> <span class="p">(</span><span class="mf">1.25</span><span class="p">)</span> <span class="p">,</span> <span class="n">y_values</span> <span class="p">,</span> <span class="mf">2.5</span> <span class="p">,</span> <span class="n">hatch</span> <span class="o">=</span> <span class="s1">&#39;//&#39;</span> <span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">,</span> <span class="n">edgecolor</span> <span class="o">=</span> <span class="s1">&#39;black&#39;</span> <span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;orange&#39;</span> <span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span> <span class="p">)</span>
<span class="n">mean_line</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">data_values</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2000</span><span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">linewidth</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">mean_text</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">data_values</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">2150</span> <span class="p">,</span> <span class="s1">&#39;Mean = &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">data_values</span><span class="o">.</span><span class="n">mean</span><span class="p">())),</span> <span class="n">horizontalalignment</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="c1"># Note:</span>
<span class="c1"># A dummy bar is intoduced at the right end of the bar plot, this is to have the maximum value of the plot</span>
<span class="c1"># on the x-axis show up for presentation purposes.</span>

<span class="n">bars</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="c1"># Plot display commands</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2500</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Height Distribution of Men </span><span class="se">\n</span><span class="s2"> (Population Size = 25000)&quot;</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Height (in centimeters)&#39;</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of people&#39;</span><span class="p">,</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">fontsize</span> <span class="o">=</span> <span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/interpreting-statistical-data_19_0.png" src="../../../_images/interpreting-statistical-data_19_0.png" />
</div>
</div>
<p>In the bar chart above, each bar represents the number of men from the population that belongs in a certain height range. We have used intervals of size 2.5 to group our countings. For instance, the first bar counts the number of men with height 150-152.5, and we see that they are approximately 500 of the 25,000 population size. The next bar counts the number of men with height 152.5-150, with the count approximately at 600, and so on. The dashed line in blue shows the location of the mean in the bar plot.</p>
<p>Using a 95% confidence level means that if we record the heights of say 1,000 men from the population over and over again and calculate the confidence interval, we expect about 95% of the confidence intervals will obtain the true average height of men in the population.</p>
<p>Try it for yourself!</p>
<p>The interactive tool below generates confidence intervals using 95% confidence levels for a sample size of your choice. The green intervals obtain the true mean whereas red intervals do not. With this tool you can appreciate visually how increasing the number of samples impacts positively the likelihood that the confidence intervals actually contain the mean height.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Counter to prevent plotting intervals until run interact is clicked</span>

<span class="n">counter_ci</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize widgets</span>

<span class="n">style</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;description_width&#39;</span><span class="p">:</span> <span class="s1">&#39;initial&#39;</span><span class="p">}</span>

<span class="n">sample_size</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="mi">2500</span><span class="p">,</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">5000</span><span class="p">,</span> <span class="n">step</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Sample Size&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="n">iterations</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span><span class="n">value</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span><span class="nb">min</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Number of Intervals&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="n">ci_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Run Interact&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;15%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">))</span>

<span class="c1"># Display widgets </span>

<span class="n">display</span><span class="p">(</span><span class="n">sample_size</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">iterations</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">ci_button</span><span class="p">)</span>

<span class="c1"># Plot intervals on click</span>

<span class="n">ci_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_cells</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "7cbc2cb7e2a44fcaa2b3ebcb563b5425", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "69d4e228e56147fabbe9e156f1cf0277", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "22bddbadd6614ff6a59e6a353c79c081", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot intervals once run interact is clicked </span>

<span class="n">counter_ci</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="k">if</span> <span class="n">counter_ci</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
    <span class="n">ci_plot</span><span class="p">(</span><span class="n">data_values</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">sample_size</span><span class="o">.</span><span class="n">value</span> <span class="p">,</span> <span class="n">iterations</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>What happens to the size of the confidence intervals and margin of errors as sample sizes increase? Justify your answer.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Text widget for this interactives question prompt</span>

<span class="n">samplesize_interp_text</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;100px&#39;</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Counter to question attempts</span>

<span class="n">counter_samplesize_q</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Other widgets for this interactive&#39;s question prompt </span>

<span class="n">box_layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="s1">&#39;flex&#39;</span><span class="p">,</span>
                    <span class="n">flex_flow</span><span class="o">=</span><span class="s1">&#39;row&#39;</span><span class="p">,</span>
                    <span class="n">align_items</span><span class="o">=</span><span class="s1">&#39;stretch&#39;</span><span class="p">,</span>
                    <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">justify_content</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">)</span>

<span class="n">save_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;15%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">))</span>
<span class="n">save_box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">save_button</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">box_layout</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">samplesize_interp_text</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">save_box</span><span class="p">)</span>

<span class="n">save_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_cells</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "eca35ad62d444e18808bab1b08d47bd5", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "91d4dc128c884e728c279a800c05ba18", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run_edit_cells</span><span class="p">(</span> <span class="n">b</span> <span class="p">):</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Javascript</span><span class="p">(</span><span class="s1">&#39;IPython.notebook.execute_cell_range(IPython.notebook.get_selected_index()-1,IPython.notebook.get_selected_index())&#39;</span><span class="p">))</span>
    <span class="n">edit_button</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">samplesize_interp</span> <span class="o">=</span> <span class="n">samplesize_interp_text</span><span class="o">.</span><span class="n">value</span>

<span class="n">edit_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Edit&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;15%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">))</span>

<span class="n">answer_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Reveal Answer&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;15%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">))</span>
<span class="n">options_box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">edit_button</span><span class="p">,</span> <span class="n">answer_button</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">box_layout</span><span class="p">)</span>

<span class="k">if</span> <span class="p">(</span> <span class="n">samplesize_interp</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
    
    <span class="n">samplesize_interp_text</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">save_button</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="n">samplesize_interp_text</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span> <span class="n">value</span><span class="o">=</span> <span class="n">samplesize_interp</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;100px&#39;</span><span class="p">)</span> <span class="p">)</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;&lt;center&gt;&#39;</span> <span class="o">+</span> <span class="n">samplesize_interp</span> <span class="o">+</span> <span class="s1">&#39;&lt;/center&gt;&#39;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">options_box</span><span class="p">)</span>
    
<span class="n">edit_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_edit_cells</span> <span class="p">)</span>
<span class="n">answer_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="n">run_cells</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">counter_samplesize_q</span> <span class="o">+=</span> <span class="mi">1</span>

<span class="k">if</span> <span class="p">(</span><span class="n">counter_samplesize_q</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">):</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt; Expected Answer: &lt;/b&gt; &quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;As sample size increases, confidence intervals and margin of errors decrease.&quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt; Explanation: &lt;/b&gt; &quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;By increasing sample size, we are increasing our data set and thus, we can acheive a more precise&quot;</span>
                    <span class="o">+</span> <span class="s2">&quot; estimate of the true average height of men in the population. Note that the margin of error is half&quot;</span> 
                    <span class="o">+</span> <span class="s2">&quot; of the size of the confidence interval. Hence, we see that if margin of error increases, then confidence increases and if margin of error decreases, then confidence intervals decreases.&quot;</span><span class="p">))</span> 
</pre></div>
</div>
</div>
</div>
<p>In the interactive tool below, we will fix our random sample size to be 1,000 individuals and compute 50 confidence intervals. So the only parameter we need to set is the confidence level, anbd we will see how it impacts the margin of error, i.e. the size of the intervals. Indeed the margin of error depends on the sample size (fixed to 1000 here) and the z-value, that gets lower as the confidence level decreases.</p>
<p>Below, we can see that as we choose a higher value for the confidence level, the greater the z-value we need to use, which in turns makes the margin of error term larger, thus making the confidence interval larger. Intuitively, this is what we expect as a larger interval is more likely to contain the exact mean we want to estimate. With a low confidence level, the confidence intervals are very tight, and have a higher probability of not containing the true mean.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tried a step size of 0.1, but IntSlider widget does not have this feature</span>

<span class="n">confidence_level_slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">99</span><span class="p">,</span> <span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;Confidence Level&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">,</span> <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="n">confidence_level_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Run Interact&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;15%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">))</span>

<span class="n">display</span><span class="p">(</span><span class="n">confidence_level_slider</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">confidence_level_button</span><span class="p">)</span>

<span class="n">confidence_level_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_cells</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "f198e68f8931471496cdf153bb7d8a3a", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "b82b96568d9e4f23a84c9ab768977642", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Obtain confidence level and z-values</span>

<span class="n">confidence_level</span> <span class="o">=</span> <span class="p">(</span><span class="n">confidence_level_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">get_z_value</span><span class="p">(</span><span class="n">confidence_level</span><span class="p">)</span>

<span class="c1"># Display</span>

<span class="n">confidence_level_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span> <span class="nb">float</span><span class="p">(</span><span class="n">confidence_level</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">)[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;\%&quot;</span> 
<span class="n">message_out</span> <span class="o">=</span> <span class="s2">&quot;To obtain a confidence interval with $&quot;</span> <span class="o">+</span> <span class="n">confidence_level_str</span> <span class="o">+</span> <span class="s2">&quot;$ confidence level requires a z-value of &quot;</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">z</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.$&quot;</span>

<span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">message_out</span><span class="p">))</span>

<span class="c1"># Interval plots</span>

<span class="n">sample_size_value</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">number_of_intervals</span> <span class="o">=</span> <span class="mi">50</span>

<span class="n">ci_plot</span><span class="p">(</span><span class="n">data_values</span><span class="p">,</span> <span class="n">lower_bound</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">,</span> <span class="n">sample_size_value</span> <span class="p">,</span> <span class="n">number_of_intervals</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">confidence_level</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
    <p>To obtain a confidence interval with <span class="output text_latex math notranslate nohighlight">\(50%\)</span> confidence level requires a z-value of <span  class="output text_latex math notranslate nohighlight">\(0.6745\)</span>.</p>
<center>60.0% of the confidence intervals contain the true mean value. That is, 40.0% do not. <center><img alt="../../../_images/interpreting-statistical-data_33_2.png" src="../../../_images/interpreting-statistical-data_33_2.png" />
</div>
</div>
</div>
<div class="section" id="confidence-intervals-and-confidence-levels-in-media">
<h2>Confidence Intervals and Confidence Levels in Media<a class="headerlink" href="#confidence-intervals-and-confidence-levels-in-media" title="Permalink to this headline">¶</a></h2>
<p>In 2017, <a class="reference external" href="https://thehockeynews.com/news/article/front-office-confidence-rankings-part-2-fans-weigh-in-on-how-each-team-is-doing">The Hockey News</a> created a survey asking people to mark each NHL team’s front office on a scale of 5 in six different categories: roster building, cap management, draft and develop, trading, free agency, and their overall vision. Over 1300 people contributed in the survey and since not everyone was familiar with every team’s management group, each NHL team had roughly 800 to 1000 votes.</p>
<p>The goal was to <strong>rank</strong> the NHL teams in each of the 6 categories. For a given category, this would have been easy if each team had received as many marks as there were people contributing to the survey: it would have been sufficient to rank according to the mean mark. But as noted above, not every participant marked every team, so The Hockey news faced an issue akin to sampling marks, where a participant not marking a team in a category was considered as this (missing) mark being un-sampled. So instead of a mean mark per category for each team, The Hockey News computed a 95% confidence interval. That is, for each of the 30 teams, they  obtained six confidence intervals (one for each ranking category), with 95% certainty that the intervals contains the actual mark value. Now, each of these confidence intervals have their associated margin of error (there are 180 intervals in total) which averaged out to be 0.06, which is quite small.</p>
<p>Take for example the Nashville Predators who ranked first overall out of the 30 teams.</p>
<img alt="Drawing" src="../../../_images/nashville-predators.jpg" />
<p>Since the margin of error is about 0.06, the true mark (out of 5) of the team’s ability in roster building likely (with probability 95%) lies in the confidence interval:</p>
<div class="math notranslate nohighlight">
\[(4.4 - 0.06, 4.4 + 0.06) = (4.34, 4.46).\]</div>
</div>
<div class="section" id="confidence-intervals-and-margin-of-error-in-media">
<h2>Confidence Intervals and Margin of Error in Media<a class="headerlink" href="#confidence-intervals-and-margin-of-error-in-media" title="Permalink to this headline">¶</a></h2>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create nested column labels </span>

<span class="n">inner_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Men, Sample Size&#39;</span><span class="p">,</span><span class="s1">&#39;Men, Mean&#39;</span><span class="p">,</span><span class="s1">&#39;Men, Standard Deviation&#39;</span><span class="p">,</span><span class="s1">&#39;Women, Sample Size&#39;</span><span class="p">,</span><span class="s1">&#39;Women, Mean&#39;</span><span class="p">,</span><span class="s1">&#39;Women, Standard Deviation&#39;</span><span class="p">]</span>

<span class="c1"># Row names</span>

<span class="n">indices_labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Systolic Blood Pressure&#39;</span><span class="p">,</span><span class="s1">&#39;Diastolic Blood Pressure&#39;</span><span class="p">,</span><span class="s1">&#39;Total Serum Cholesterol&#39;</span><span class="p">,</span> <span class="s1">&#39;Weight&#39;</span><span class="p">,</span> <span class="s1">&#39;Height&#39;</span><span class="p">,</span> <span class="s1">&#39;Body Mass Index&#39;</span><span class="p">]</span>
<span class="n">dataframe</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span> <span class="p">[</span> <span class="p">[</span><span class="mi">1623</span><span class="p">,</span> <span class="mf">128.2</span><span class="p">,</span> <span class="mf">17.5</span><span class="p">,</span> <span class="mi">1911</span><span class="p">,</span><span class="mf">126.5</span><span class="p">,</span> <span class="mf">20.1</span><span class="p">]</span> <span class="p">,</span> <span class="p">[</span><span class="mi">1622</span><span class="p">,</span> <span class="mf">75.6</span><span class="p">,</span> <span class="mf">9.8</span><span class="p">,</span> <span class="mi">1910</span><span class="p">,</span> <span class="mf">72.6</span><span class="p">,</span> <span class="mf">9.7</span><span class="p">]</span> <span class="p">,</span> <span class="p">[</span><span class="mi">1544</span><span class="p">,</span> <span class="mf">192.4</span><span class="p">,</span> <span class="mf">35.2</span><span class="p">,</span> <span class="mi">1766</span><span class="p">,</span> <span class="mf">207.1</span><span class="p">,</span> <span class="mf">36.7</span><span class="p">],</span> <span class="p">[</span><span class="mi">1612</span><span class="p">,</span> <span class="mf">194.0</span><span class="p">,</span> <span class="mf">33.8</span><span class="p">,</span> <span class="mi">1984</span><span class="p">,</span> <span class="mf">157.7</span><span class="p">,</span> <span class="mf">34.6</span><span class="p">],</span> <span class="p">[</span><span class="mi">1545</span><span class="p">,</span> <span class="mf">68.9</span><span class="p">,</span> <span class="mf">2.7</span><span class="p">,</span> <span class="mi">1781</span><span class="p">,</span> <span class="mf">63.4</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">1545</span><span class="p">,</span> <span class="mf">28.8</span><span class="p">,</span> <span class="mf">4.6</span><span class="p">,</span> <span class="mi">1781</span><span class="p">,</span> <span class="mf">27.6</span><span class="p">,</span> <span class="mf">5.9</span><span class="p">]</span> <span class="p">]</span> <span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">inner_columns</span><span class="p">)</span>

<span class="c1"># Group the labels as split by &quot; , &quot; </span>

<span class="n">labels</span> <span class="o">=</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
<span class="n">dataframe</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">labels</span><span class="p">])</span>
<span class="n">original_index_list</span> <span class="o">=</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="k">for</span> <span class="n">current_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">original_index_list</span><span class="p">)):</span>
    
    <span class="n">idx</span> <span class="o">=</span> <span class="n">original_index_list</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">current_index</span><span class="p">)</span>
    <span class="n">original_index_list</span><span class="p">[</span><span class="n">current_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">indices_labels</span><span class="p">[</span><span class="n">current_index</span><span class="p">]</span>
    
<span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">selector</span><span class="o">=</span><span class="s2">&quot;th&quot;</span><span class="p">,</span> <span class="n">props</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;text-align&#39;</span><span class="p">,</span> <span class="s1">&#39;left&#39;</span><span class="p">)])</span>
<span class="n">dataframe</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">original_index_list</span>
</pre></div>
</div>
</div>
</div>
<p><a class="reference external" href="http://sphweb.bumc.bu.edu/otlt/MPH-Modules/BS/BS704_Confidence_Intervals/BS704_Confidence_Intervals_print.html">Boston University of Public Health</a> analyzed data of 3,539 participants who attended the 7th Examination of the Offspring Cohort in The Framingham Heart Study. For people participating to the study, several health measures were taken, again with a missing data issue as not all participants submitted their information for each category, an issue similar to the hockey example above. The summarized data set is presented below.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="mi">120</span>

<span class="n">display</span><span class="p">(</span><span class="n">dataframe</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">set_properties</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span><span class="s1">&#39;12em&#39;</span><span class="p">,</span> <span class="s1">&#39;text-align&#39;</span><span class="p">:</span><span class="s1">&#39;center&#39;</span><span class="p">})</span>\
    <span class="o">.</span><span class="n">set_table_styles</span><span class="p">([</span><span class="n">d</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style  type="text/css" >
    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fc th {
          text-align: left;
    }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow0_col0 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow0_col1 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow0_col2 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow0_col3 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow0_col4 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow0_col5 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow1_col0 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow1_col1 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow1_col2 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow1_col3 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow1_col4 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow1_col5 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow2_col0 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow2_col1 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow2_col2 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow2_col3 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow2_col4 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow2_col5 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow3_col0 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow3_col1 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow3_col2 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow3_col3 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow3_col4 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow3_col5 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow4_col0 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow4_col1 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow4_col2 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow4_col3 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow4_col4 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow4_col5 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow5_col0 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow5_col1 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow5_col2 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow5_col3 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow5_col4 {
            width:  12em;
            text-align:  center;
        }    #T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow5_col5 {
            width:  12em;
            text-align:  center;
        }</style><table id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fc" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" colspan=3>Men</th>        <th class="col_heading level0 col3" colspan=3>Women</th>    </tr>    <tr>        <th class="blank level1" ></th>        <th class="col_heading level1 col0" >Sample Size</th>        <th class="col_heading level1 col1" >Mean</th>        <th class="col_heading level1 col2" >Standard Deviation</th>        <th class="col_heading level1 col3" >Sample Size</th>        <th class="col_heading level1 col4" >Mean</th>        <th class="col_heading level1 col5" >Standard Deviation</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fclevel0_row0" class="row_heading level0 row0" >Systolic Blood Pressure</th>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow0_col0" class="data row0 col0" >1623</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow0_col1" class="data row0 col1" >128.2</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow0_col2" class="data row0 col2" >17.5</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow0_col3" class="data row0 col3" >1911</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow0_col4" class="data row0 col4" >126.5</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow0_col5" class="data row0 col5" >20.1</td>
            </tr>
            <tr>
                        <th id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fclevel0_row1" class="row_heading level0 row1" >Diastolic Blood Pressure</th>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow1_col0" class="data row1 col0" >1622</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow1_col1" class="data row1 col1" >75.6</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow1_col2" class="data row1 col2" >9.8</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow1_col3" class="data row1 col3" >1910</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow1_col4" class="data row1 col4" >72.6</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow1_col5" class="data row1 col5" >9.7</td>
            </tr>
            <tr>
                        <th id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fclevel0_row2" class="row_heading level0 row2" >Total Serum Cholesterol</th>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow2_col0" class="data row2 col0" >1544</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow2_col1" class="data row2 col1" >192.4</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow2_col2" class="data row2 col2" >35.2</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow2_col3" class="data row2 col3" >1766</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow2_col4" class="data row2 col4" >207.1</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow2_col5" class="data row2 col5" >36.7</td>
            </tr>
            <tr>
                        <th id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fclevel0_row3" class="row_heading level0 row3" >Weight</th>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow3_col0" class="data row3 col0" >1612</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow3_col1" class="data row3 col1" >194</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow3_col2" class="data row3 col2" >33.8</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow3_col3" class="data row3 col3" >1984</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow3_col4" class="data row3 col4" >157.7</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow3_col5" class="data row3 col5" >34.6</td>
            </tr>
            <tr>
                        <th id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fclevel0_row4" class="row_heading level0 row4" >Height</th>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow4_col0" class="data row4 col0" >1545</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow4_col1" class="data row4 col1" >68.9</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow4_col2" class="data row4 col2" >2.7</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow4_col3" class="data row4 col3" >1781</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow4_col4" class="data row4 col4" >63.4</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow4_col5" class="data row4 col5" >2.5</td>
            </tr>
            <tr>
                        <th id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fclevel0_row5" class="row_heading level0 row5" >Body Mass Index</th>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow5_col0" class="data row5 col0" >1545</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow5_col1" class="data row5 col1" >28.8</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow5_col2" class="data row5 col2" >4.6</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow5_col3" class="data row5 col3" >1781</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow5_col4" class="data row5 col4" >27.6</td>
                        <td id="T_2c6b81ea_fafb_11ea_bbb4_4311d3fa30fcrow5_col5" class="data row5 col5" >5.9</td>
            </tr>
    </tbody></table></div></div>
</div>
<p>With 95% confidence, the confidence interval of Men’s Systolic Blood Pressure is <span class="math notranslate nohighlight">\(\left(127.35, 129.05\right)\)</span> and the margin of error is <span class="math notranslate nohighlight">\(0.85\)</span>. That is, there is a 95% chance that the actual average of Men’s Systolic Blood Pressure in the population belongs in this confidence interval.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run_edit1_cells</span><span class="p">(</span> <span class="n">b</span> <span class="p">):</span>
   
    <span class="n">display</span><span class="p">(</span><span class="n">Javascript</span><span class="p">(</span><span class="s1">&#39;IPython.notebook.execute_cell_range(IPython.notebook.get_selected_index()-1,IPython.notebook.get_selected_index())&#39;</span><span class="p">))</span>
    <span class="n">edit_button_1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">run_edit2_cells</span><span class="p">(</span> <span class="n">b</span> <span class="p">):</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Javascript</span><span class="p">(</span><span class="s1">&#39;IPython.notebook.execute_cell_range(IPython.notebook.get_selected_index()-1,IPython.notebook.get_selected_index())&#39;</span><span class="p">))</span>
    <span class="n">edit_button_2</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise 1.</strong></p>
<p>In the next two exercises, we will be computing confidence intervals with a certain confidence level. In the following input box below, enter the confidence level desired to obtain the appropriate z-value to use.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set up text and button widget parameters</span>

<span class="n">get_zv_text</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;Enter a value between 0 and 100.&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;25%&#39;</span><span class="p">)</span> <span class="p">)</span>
<span class="n">get_zv_button</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;10%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">)</span> <span class="p">)</span>

<span class="c1"># Display widgets</span>

<span class="n">display</span><span class="p">(</span><span class="n">get_zv_text</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">get_zv_button</span><span class="p">)</span>

<span class="c1"># On button click, execute the next cell</span>

<span class="n">get_zv_button</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_cells</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "1c1ab7cc4f244c9eb82752baef4c1642", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "e08df78d94384bcdb7ae738d0a4e1645", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Obtain user input</span>

<span class="n">confidence_level</span> <span class="o">=</span> <span class="n">get_zv_text</span><span class="o">.</span><span class="n">value</span>

<span class="c1"># Check range &amp; display output if value is valid</span>

<span class="n">invalid_input_msg</span> <span class="o">=</span> <span class="s2">&quot;Enter a value between 0 and 100.&quot;</span>

<span class="k">if</span><span class="p">(</span><span class="n">isfloat</span><span class="p">(</span><span class="n">confidence_level</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">):</span>
    
    <span class="n">confidence_level</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">get_zv_text</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
    
    <span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="n">confidence_level</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">confidence_level</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">):</span>
        
        <span class="n">z_value</span> <span class="o">=</span> <span class="n">get_z_value</span><span class="p">(</span><span class="n">confidence_level</span><span class="p">)</span>
        <span class="n">md_print</span> <span class="o">=</span> <span class="s2">&quot;The z-value you need to use for a &quot;</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">get_zv_text</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;\%$&quot;</span> <span class="o">+</span> <span class="s2">&quot; confidence interval is &quot;</span> <span class="o">+</span> <span class="s2">&quot;$&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">z_value</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.$&quot;</span>
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span> <span class="n">md_print</span><span class="p">)</span> <span class="p">)</span>
        
    <span class="k">else</span><span class="p">:</span>
        
        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">invalid_input_msg</span><span class="p">))</span>
               
<span class="k">else</span><span class="p">:</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="n">invalid_input_msg</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p>Enter a value between 0 and 100.</p>
</div>
</div>
<p><strong>(i)</strong> Calculate the confidence interval of Women’s Weight with a <span class="math notranslate nohighlight">\(95\%\)</span> confidence level. Round each value to the nearest hundredth.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Widgets for interval question </span>

<span class="n">box_layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="n">display</span><span class="o">=</span><span class="s1">&#39;flex&#39;</span><span class="p">,</span>
                    <span class="n">flex_flow</span><span class="o">=</span><span class="s1">&#39;row&#39;</span><span class="p">,</span>
                    <span class="n">align_items</span><span class="o">=</span><span class="s1">&#39;stretch&#39;</span><span class="p">,</span>
                    <span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">justify_content</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">)</span>

<span class="c1"># Interval display format</span>

<span class="n">comma_a</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HTMLMath</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;$,$&quot;</span><span class="p">)</span>
<span class="n">open_bracket_a</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HTMLMath</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;$\Big($&quot;</span><span class="p">)</span>
<span class="n">close_bracket_a</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HTMLMath</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;$\Big)$&quot;</span><span class="p">)</span>

<span class="c1"># Text input for left and right interval</span>

<span class="n">left_endpoint_text_a</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;10%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;32.5px&#39;</span><span class="p">)</span> <span class="p">)</span>
<span class="n">right_endpoint_text_a</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;10%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;32.5px&#39;</span><span class="p">)</span> <span class="p">)</span>

<span class="c1"># Display widgets</span>

<span class="n">confidence_interval</span> <span class="o">=</span> <span class="p">[</span><span class="n">open_bracket_a</span><span class="p">,</span> <span class="n">left_endpoint_text_a</span><span class="p">,</span> <span class="n">comma_a</span><span class="p">,</span> <span class="n">right_endpoint_text_a</span><span class="p">,</span> <span class="n">close_bracket_a</span><span class="p">]</span>
<span class="n">ci_box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="n">confidence_interval</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">box_layout</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">ci_box</span><span class="p">)</span>
<span class="n">submit_button_1</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Submit&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;15%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">))</span>
<span class="n">submit_box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">submit_button_1</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">box_layout</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">submit_box</span><span class="p">)</span>

<span class="c1"># Run next cell on submit click</span>

<span class="n">submit_button_1</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_cells</span> <span class="p">)</span>

<span class="c1"># Question attempt counter</span>

<span class="n">counter_a</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "7fa23d34f93e42b0bc318cd21e1730f7", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "36006794e4d9423fb7a477e1944bc197", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Obtain user&#39;s interval values</span>

<span class="n">min_range_a</span> <span class="o">=</span> <span class="n">left_endpoint_text_a</span><span class="o">.</span><span class="n">value</span>
<span class="n">max_range_a</span> <span class="o">=</span> <span class="n">right_endpoint_text_a</span><span class="o">.</span><span class="n">value</span>

<span class="c1"># Fix format</span>

<span class="n">correct_min_range_a</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">157.7</span><span class="o">-</span><span class="mf">1.96</span><span class="o">*</span><span class="mf">34.6</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1984</span><span class="p">))</span>
<span class="n">correct_max_range_a</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">157.7</span><span class="o">+</span><span class="mf">1.96</span><span class="o">*</span><span class="mf">34.6</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1984</span><span class="p">))</span>

<span class="k">if</span> <span class="p">(</span> <span class="n">min_range_a</span> <span class="o">==</span> <span class="n">correct_min_range_a</span> <span class="ow">and</span> <span class="n">max_range_a</span> <span class="o">==</span> <span class="n">correct_max_range_a</span><span class="p">):</span>
    
    <span class="c1"># Close question prompt widgets</span>
    
    <span class="n">open_bracket_a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">close_bracket_a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">comma_a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">left_endpoint_text_a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">right_endpoint_text_a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">submit_button_1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="n">confidence_interval_string</span> <span class="o">=</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="n">min_range_a</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="n">max_range_a</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span>
    
    <span class="c1"># Display user answer</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;**You answered: **&quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;center&gt;$&quot;</span><span class="o">+</span><span class="n">confidence_interval_string</span><span class="o">+</span><span class="s2">&quot;$ &lt;/center&gt;&quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;This is correct!&quot;</span><span class="p">))</span>
    
    <span class="c1"># Display expected answer + explanations</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt; Expected Answer: &lt;/b&gt; &quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;$(156.18, 159.22)$&quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt; Explanation: &lt;/b&gt; &quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;For Women&#39;s weight, the sample size is $N = 1984$, the mean is $\overline x = 157.7$, and the standard deviation is $s = 34.6$.&quot;</span>
                     <span class="o">+</span> <span class="s2">&quot; Since the z-value for a $95\%$ confidence level is $1.96$, the confidence interval is &lt;center&gt; $\Bigg( 157.7 - 1.96 \cdot \displaystyle &quot;</span> 
                     <span class="o">+</span> <span class="s2">&quot;{34.6 \over \sqrt</span><span class="si">{1984}</span><span class="s2"> },157.7 + 1.96 \cdot \displaystyle {34.6 \over \sqrt</span><span class="si">{1984}</span><span class="s2">} \Bigg) = (156.18,159.22)$&lt;/center&gt;&quot;</span><span class="p">))</span>

<span class="k">else</span><span class="p">:</span>
    
    <span class="c1"># Increment question counter</span>
    
    <span class="n">counter_a</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">counter_a</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">incorrect</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot; &lt;center&gt;Incorrect! Please try again. &lt;/center&gt;&quot;</span><span class="p">)</span>
        <span class="n">display</span><span class="p">(</span><span class="n">incorrect</span><span class="p">)</span>
        
    <span class="c1"># Question attempts maximum limit</span>

<span class="k">if</span> <span class="p">(</span><span class="n">counter_a</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">):</span>
    
    <span class="c1"># Close question prompt widgets</span>
    
    <span class="n">open_bracket_a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">close_bracket_a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">comma_a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">left_endpoint_text_a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">right_endpoint_text_a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">submit_button_1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">incorrect</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    
    <span class="c1"># Display expected answer + explanation</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt; Expected Answer: &lt;/b&gt; &quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;$(156.18, 159.22)$&quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt; Explanation: &lt;/b&gt; &quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;For Women&#39;s weight, the sample size is $N = 1984$, the mean is $\overline x = 157.7$, and the standard deviation is $s = 34.6$.&quot;</span>
                     <span class="o">+</span> <span class="s2">&quot; Since the z-value for a $95\%$ confidence level is $1.96$, the confidence interval is &lt;center&gt; $\Bigg( 157.7 - 1.96 \cdot \displaystyle &quot;</span> 
                     <span class="o">+</span> <span class="s2">&quot;{34.6 \over \sqrt</span><span class="si">{1984}</span><span class="s2"> },157.7 + 1.96 \cdot \displaystyle {34.6 \over \sqrt</span><span class="si">{1984}</span><span class="s2">} \Bigg) = (156.18,159.22)$&lt;/center&gt;&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p><strong>(ii)</strong> Use the terms confidence level, confidence interval and margin of error to interpret the true measurement of women’s average weight in Boston.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">interpretation_text_a</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;100px&#39;</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">save_button_1</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;15%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">))</span>
<span class="n">save_box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">save_button_1</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">box_layout</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">interpretation_text_a</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">save_box</span><span class="p">)</span>

<span class="n">save_button_1</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_cells</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "7c38571250cf41f5b06b8c3f18a3c63e", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "a43b27aa1db24485baa6ea2d918f1cf7", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">interp_a</span> <span class="o">=</span> <span class="n">interpretation_text_a</span><span class="o">.</span><span class="n">value</span>

<span class="n">edit_button_1</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Edit&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;15%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">))</span>
<span class="n">edit_box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">edit_button_1</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">box_layout</span><span class="p">)</span>

<span class="k">if</span> <span class="p">(</span> <span class="n">interp_a</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
    
    <span class="n">interpretation_text_a</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">save_button_1</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="n">interpretation_text_a</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span> <span class="n">value</span><span class="o">=</span> <span class="n">interp_a</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;100px&#39;</span><span class="p">)</span> <span class="p">)</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;&lt;center&gt;&#39;</span> <span class="o">+</span> <span class="n">interp_a</span> <span class="o">+</span> <span class="s1">&#39;&lt;/center&gt;&#39;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">edit_box</span><span class="p">)</span>
    
<span class="n">edit_button_1</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_edit1_cells</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Exercise 2.</strong></p>
<p><strong>(i)</strong> Calculate the confidence interval of Men’s Body Mass Index (BMI) with a <span class="math notranslate nohighlight">\(99\%\)</span> confidence level. Round each value to the nearest hundredth.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Text display for interval</span>

<span class="n">comma_b</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HTMLMath</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;$,$&quot;</span><span class="p">)</span>
<span class="n">open_bracket_b</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HTMLMath</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;$\Big($&quot;</span><span class="p">)</span>
<span class="n">close_bracket_b</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HTMLMath</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;$\Big)$&quot;</span><span class="p">)</span>

<span class="c1"># Text input for user&#39;s interval</span>

<span class="n">left_endpoint_text_b</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;10%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;32.5px&#39;</span><span class="p">)</span> <span class="p">)</span>
<span class="n">right_endpoint_text_b</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;10%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;32.5px&#39;</span><span class="p">)</span> <span class="p">)</span>

<span class="c1"># Display widgets</span>

<span class="n">confidence_interval</span> <span class="o">=</span> <span class="p">[</span><span class="n">open_bracket_b</span><span class="p">,</span> <span class="n">left_endpoint_text_b</span><span class="p">,</span> <span class="n">comma_b</span><span class="p">,</span> <span class="n">right_endpoint_text_b</span><span class="p">,</span> <span class="n">close_bracket_b</span><span class="p">]</span>
<span class="n">ci_box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="n">confidence_interval</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">box_layout</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">ci_box</span><span class="p">)</span>
<span class="n">submit_button_2</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Submit&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;15%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">))</span>
<span class="n">submit_box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">submit_button_2</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">box_layout</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">submit_box</span><span class="p">)</span>

<span class="c1"># Run next cell on submit click</span>

<span class="n">submit_button_2</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_cells</span> <span class="p">)</span>

<span class="c1"># Question counter</span>

<span class="n">counter_b</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "2d63b558202c424ebda090d38a4a0788", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "cbfe442085ce44e689898b0e4f696e45", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Obtain user&#39;s values</span>

<span class="n">min_range_b</span> <span class="o">=</span> <span class="n">left_endpoint_text_b</span><span class="o">.</span><span class="n">value</span>
<span class="n">max_range_b</span> <span class="o">=</span> <span class="n">right_endpoint_text_b</span><span class="o">.</span><span class="n">value</span>

<span class="c1"># z-value for this exercise</span>

<span class="n">z_value</span> <span class="o">=</span> <span class="mf">2.5758</span>

<span class="c1"># Format range</span>

<span class="n">correct_min_range_b</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">28.8</span><span class="o">-</span><span class="n">z_value</span><span class="o">*</span><span class="mf">4.6</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1545</span><span class="p">))</span>
<span class="n">correct_max_range_b</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">28.8</span><span class="o">+</span><span class="n">z_value</span><span class="o">*</span><span class="mf">4.6</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1545</span><span class="p">))</span>

<span class="k">if</span> <span class="p">(</span> <span class="n">min_range_b</span> <span class="o">==</span> <span class="n">correct_min_range_b</span> <span class="ow">and</span> <span class="n">max_range_b</span> <span class="o">==</span> <span class="n">correct_max_range_b</span><span class="p">):</span>
    
    <span class="c1"># Close question prompt widget</span>
    
    <span class="n">open_bracket_b</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">close_bracket_b</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">comma_b</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">left_endpoint_text_b</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">right_endpoint_text_b</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">submit_button_2</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    
    <span class="c1"># Display user answer </span>

    <span class="n">confidence_interval_string</span> <span class="o">=</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="n">min_range_b</span> <span class="o">+</span> <span class="s1">&#39;,&#39;</span> <span class="o">+</span> <span class="n">max_range_b</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;**Your answer: **&quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;center&gt;$&quot;</span><span class="o">+</span><span class="n">confidence_interval_string</span><span class="o">+</span><span class="s2">&quot;$ &lt;/center&gt;&quot;</span><span class="p">))</span>
    
    <span class="c1"># Display expected answe + explanations</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt; Expected Answer: &lt;/b&gt; &quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;$(28.50, 29.10)$&quot;</span><span class="p">))</span> <span class="c1"># Change</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt; Explanation: &lt;/b&gt; &quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;For Men&#39;s Body Mass Index, the sample size is $N = 1545$, the mean is $\overline x = 28.8$, and the standard deviation is $s = 4.6$.&quot;</span> 
                     <span class="o">+</span> <span class="s2">&quot; Since the z-value for a $99\%$ confidence level is $2.5758$, the confidence interval is:&quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;center&gt; $\displaystyle \Bigg( 28.8 - 2.5758 \cdot  {4.6 \over \sqrt</span><span class="si">{1545}</span><span class="s2"> },28.8 + 2.5758 \cdot {4.6 \over \sqrt</span><span class="si">{1545}</span><span class="s2">} \Bigg) = (28.50,29.10)$&lt;/center&gt;&quot;</span><span class="p">))</span>    


<span class="k">else</span><span class="p">:</span>
    
    <span class="c1"># Increment question counter on failed attempts</span>
    
    <span class="n">counter_b</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">counter_b</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">incorrect</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;&lt;center&gt;Incorrect! Please try again. &lt;/center&gt;&quot;</span><span class="p">)</span>
        <span class="n">display</span><span class="p">(</span><span class="n">incorrect</span><span class="p">)</span>
        
    <span class="c1"># Question attempt maximum limit </span>

<span class="k">if</span> <span class="p">(</span><span class="n">counter_b</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">):</span>
    
    <span class="c1"># Close question prompts</span>
    
    <span class="n">open_bracket_b</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">close_bracket_b</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">comma_b</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">left_endpoint_text_b</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">right_endpoint_text_b</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">submit_button_2</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    
    <span class="c1"># Display expected answer + explanation</span>
    
    <span class="n">incorrect</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt; Expected Answer: &lt;/b&gt; &quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;$(28.50, 29.10)$&quot;</span><span class="p">))</span> <span class="c1"># Change</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;b&gt; Explanation: &lt;/b&gt; &quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;For Men&#39;s Body Mass Index, the sample size is $N = 1545$, the mean is $\overline x = 28.8$, and the standard deviation is $s = 4.6$.&quot;</span> 
                     <span class="o">+</span> <span class="s2">&quot; Since the z-value for a $99\%$ confidence level is $2.5758$, the confidence interval is:&quot;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s2">&quot;&lt;center&gt; $\displaystyle \Bigg( 28.8 - 2.5758 \cdot  {4.6 \over \sqrt</span><span class="si">{1545}</span><span class="s2"> },28.8 + 2.5758 \cdot {4.6 \over \sqrt</span><span class="si">{1545}</span><span class="s2">} \Bigg) = (28.50,29.10)$&lt;/center&gt;&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p><strong>(ii)</strong> Use the terms confidence level, confidence interval and margin of error to interpret the true measurement of Men’s average BMI in Boston.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">interpretation_text_b</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;100px&#39;</span><span class="p">)</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">save_button_2</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Save&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;15%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">))</span>
<span class="n">save_box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">save_button_2</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">box_layout</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">interpretation_text_b</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">save_box</span><span class="p">)</span>

<span class="n">save_button_2</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_cells</span> <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "b4052ba52eb34b2d98cbe9352ae6e591", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "9b181c76cd6b4dc980a3b8c9af101d1d", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">interp_b</span> <span class="o">=</span> <span class="n">interpretation_text_b</span><span class="o">.</span><span class="n">value</span>

<span class="n">edit_button_2</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">button_style</span><span class="o">=</span><span class="s1">&#39;info&#39;</span><span class="p">,</span><span class="n">description</span><span class="o">=</span><span class="s2">&quot;Edit&quot;</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;15%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;30px&#39;</span><span class="p">))</span>
<span class="n">edit_box</span> <span class="o">=</span> <span class="n">Box</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">edit_button_2</span><span class="p">],</span> <span class="n">layout</span><span class="o">=</span><span class="n">box_layout</span><span class="p">)</span>

<span class="k">if</span> <span class="p">(</span> <span class="n">interp_b</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
    
    <span class="n">interpretation_text_b</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">save_button_2</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="n">interpretation_text_b</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span> <span class="n">value</span><span class="o">=</span> <span class="n">interp_b</span><span class="p">,</span> <span class="n">placeholder</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span> <span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">Layout</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s1">&#39;100px&#39;</span><span class="p">)</span> <span class="p">)</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="s1">&#39;&lt;center&gt;&#39;</span> <span class="o">+</span> <span class="n">interp_b</span> <span class="o">+</span> <span class="s1">&#39;&lt;/center&gt;&#39;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">edit_box</span><span class="p">)</span>
    
<span class="n">edit_button_2</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span> <span class="n">run_edit2_cells</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="analyzing-statistical-data-presented-in-the-media">
<h2>Analyzing Statistical Data Presented in the Media<a class="headerlink" href="#analyzing-statistical-data-presented-in-the-media" title="Permalink to this headline">¶</a></h2>
<p>According to an Opinion Article in the National Post <a class="reference external" href="https://nationalpost.com/opinion/allan-richarz-ontarios-teachers-are-overpaid">Ontario Teachers Are Overpaid</a>, the article states that “Ontario’s Sunshine List of public-sector employees making over <code class="docutils literal notranslate"><span class="pre">$</span></code>100,000 each year. Thousands of elementary and secondary school teachers, admin and staff make the list; with some teachers reaching as high as <code class="docutils literal notranslate"><span class="pre">$</span></code>133,000 annually” and the article argues that “teachers in the province are overpaid; the work is not that onerous nor specialized and the hours not too taxing.”</p>
<img alt="Drawing" src="../../../_images/ontario-teacher-salary.png" />
<p>However, looking at the high school teacher salary in Ontario as reported on <a class="reference external" href="https://www.payscale.com/research/CA/Job=High_School_Teacher/Salary/004c9fd6/Toronto-ON">PayScale</a>, shows that these teacher may not necessarily be overpaid.</p>
<p>It matters first as to which group of workers we are looking at in the industry for instance, some employees more engaged with administrative work such as Principals, Vice Principals, and Treasurers make more than the average secondary school teachers and can drag the average salary up.</p>
<p>It also matters to look at how long they have been working in the industry. A count of 61 entry level teachers (working for 0-5 years) reported an income of <code class="docutils literal notranslate"><span class="pre">$</span></code>52,000 a year and a count of 44 mid-career level teachers (working for 5-10 years) reported an income of <code class="docutils literal notranslate"><span class="pre">$</span></code>56,000 a year.</p>
<p>It is not until we get to the count of 33 experienced teachers (working for 10-15 years) reporting an income of <code class="docutils literal notranslate"><span class="pre">$</span></code>75,000 a year and late career teachers (working for 15-20 years) reporting an income of <code class="docutils literal notranslate"><span class="pre">$</span></code>88,000 that we see comparable incomes as reported by the article.</p>
<p>Unfortunately we cannot obtain a confidence interval, as the individual data values in the data set are not provided publicly by PayScale.</p>
<p><a class="reference external" href="https://github.com/callysto/curriculum-notebooks/blob/master/LICENSE.md"><img alt="Callysto.ca License" src="https://github.com/callysto/curriculum-notebooks/blob/master/callysto-notebook-banner-bottom.jpg?raw=true" /></a></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./curriculum-notebooks/Mathematics/InterpretingStatisticalData"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../CentralTendencyAndOutlier/outliers-and-central-tendency.html" title="previous page">Central Tendency and Outliers</a>
    <a class='right-next' id="next-link" href="../InterpretAndAssessOdds/interpret-and-assess-odds.html" title="next page">Interpret and Assess the Odds</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Callysto.ca (A joint project of Cybera Inc and the Pacific Institute for the Mathematical Sciences)<br/>
        
            &copy; <a href="../../../copyright.html">Copyright</a> 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../../../_static/js/index.js"></script>
    
  </body>
</html>
